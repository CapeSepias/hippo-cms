(function(){function g(a,c,b,f){function e(b){var d=h(a,c);if(!d||d.to.line-d.from.line<g)return null;for(var e=a.findMarksAt(d.from),i=0;i<e.length;++i)if(e[i].__isFold&&"fold"!==f){if(!b)return null;d.cleared=!0;e[i].clear()}return d}var h=b&&(b.call?b:b.rangeFinder);h||(h=a.getHelper(c,"fold"));if(h){"number"==typeof c&&(c=CodeMirror.Pos(c,0));var g=b&&b.minFoldSize||0,d=e(!0);if(b&&b.scanUp)for(;!d&&c.line>a.firstLine();)c=CodeMirror.Pos(c.line-1,0),d=e(!1);if(d&&!(d.cleared||"unfold"===f)){b=
k(b);CodeMirror.on(b,"mousedown",function(){j.clear()});var j=a.markText(d.from,d.to,{replacedWith:b,clearOnEnter:!0,__isFold:!0});j.on("clear",function(b,c){CodeMirror.signal(a,"unfold",a,b,c)});CodeMirror.signal(a,"fold",a,d.from,d.to)}}}function k(a){a=a&&a.widget||"↔";if("string"==typeof a){var c=document.createTextNode(a),a=document.createElement("span");a.appendChild(c);a.className="CodeMirror-foldmarker"}return a}CodeMirror.newFoldFunction=function(a,c){return function(b,f){g(b,f,{rangeFinder:a,
widget:c})}};CodeMirror.defineExtension("foldCode",function(a,c,b){g(this,a,c,b)});CodeMirror.registerHelper("fold","combine",function(){var a=Array.prototype.slice.call(arguments,0);return function(c,b){for(var f=0;f<a.length;++f){var e=a[f](c,b);if(e)return e}}})})();
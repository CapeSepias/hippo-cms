(function(){function j(a){"object"==typeof a&&(this.minChars=a.minChars,this.style=a.style,this.showToken=a.showToken,this.delay=a.delay);null==this.style&&(this.style=k);null==this.minChars&&(this.minChars=l);null==this.delay&&(this.delay=m);this.overlay=this.timeout=null}function g(a){var b=a.state.matchHighlighter;clearTimeout(b.timeout);b.timeout=setTimeout(function(){h(a)},b.delay)}function h(a){a.operation(function(){var b=a.state.matchHighlighter;b.overlay&&(a.removeOverlay(b.overlay),b.overlay=
null);if(!a.somethingSelected()&&b.showToken){for(var d=!0===b.showToken?/[\w$]/:b.showToken,c=a.getCursor(),f=a.getLine(c.line),e=c=c.ch;c&&d.test(f.charAt(c-1));)--c;for(;e<f.length&&d.test(f.charAt(e));)++e;c<e&&a.addOverlay(b.overlay=i(f.slice(c,e),d,b.style))}else a.getCursor("head").line==a.getCursor("anchor").line&&(d=a.getSelection().replace(/^\s+|\s+$/g,""),d.length>=b.minChars&&a.addOverlay(b.overlay=i(d,!1,b.style)))})}function i(a,b,d){return{token:function(c){if(c.match(a)&&(!b||(!c.start||
!b.test(c.string.charAt(c.start-1)))&&(c.pos==c.string.length||!b.test(c.string.charAt(c.pos)))))return d;c.next();c.skipTo(a.charAt(0))||c.skipToEnd()}}}var l=2,k="matchhighlight",m=100;CodeMirror.defineOption("highlightSelectionMatches",!1,function(a,b,d){if(d&&d!=CodeMirror.Init){(d=a.state.matchHighlighter.overlay)&&a.removeOverlay(d);clearTimeout(a.state.matchHighlighter.timeout);a.state.matchHighlighter=null;a.off("cursorActivity",g)}if(b){a.state.matchHighlighter=new j(b);h(a);a.on("cursorActivity",
g)}})})();
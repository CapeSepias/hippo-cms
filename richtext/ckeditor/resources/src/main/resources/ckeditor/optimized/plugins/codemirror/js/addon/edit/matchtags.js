(function(){function e(a){a.state.tagHit&&a.state.tagHit.clear();a.state.tagOther&&a.state.tagOther.clear();a.state.tagHit=a.state.tagOther=null}function d(a){a.state.failedTagMatch=!1;a.operation(function(){e(a);if(!a.somethingSelected()){var b=a.getCursor(),c=a.getViewport();c.from=Math.min(c.from,b.line);c.to=Math.max(b.line+1,c.to);if(b=CodeMirror.findMatchingTag(a,b,c)){if(a.state.matchBothTags&&(c="open"==b.at?b.open:b.close))a.state.tagHit=a.markText(c.from,c.to,{className:"CodeMirror-matchingtag"});
(b="close"==b.at?b.open:b.close)?a.state.tagOther=a.markText(b.from,b.to,{className:"CodeMirror-matchingtag"}):a.state.failedTagMatch=!0}}})}function f(a){a.state.failedTagMatch&&d(a)}CodeMirror.defineOption("matchTags",!1,function(a,b,c){if(c&&c!=CodeMirror.Init){a.off("cursorActivity",d);a.off("viewportChange",f);e(a)}if(b){a.state.matchBothTags=typeof b=="object"&&b.bothTags;a.on("cursorActivity",d);a.on("viewportChange",f);d(a)}});CodeMirror.commands.toMatchingTag=function(a){var b=CodeMirror.findMatchingTag(a,
a.getCursor());b&&(b="close"==b.at?b.open:b.close)&&a.setSelection(b.to,b.from)}})();
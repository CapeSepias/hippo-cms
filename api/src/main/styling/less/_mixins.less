// Copyright 2014-2015 Hippo B.V. (http://www.onehippo.com)
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//  http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// WebKit-style focus
.tab-focus() {
  // Default
  outline: thin dotted;
  // WebKit
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}

.font-size(@sizeValue) {
  @remValue: @sizeValue;
  @pxValue: (@sizeValue * 10);
  font-size: ~"@{pxValue}px";
  font-size: ~"@{remValue}rem";
}

.line-height(@sizeValue) {
  @remValue: @sizeValue;
  @pxValue: (@sizeValue * 10);
  line-height: ~"@{pxValue}px";
  line-height: ~"@{remValue}rem";
}

.truncate() {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.help-align-horizontal-center() {
  background: linear-gradient(to bottom, red 50%, yellow 50%);
  // The rectangle in which to repeat. It can be fully wide in this case
  background-size: 100% 100%;
}

.help-align-vertical-center() {
  background: linear-gradient(to right, red 50%, yellow 50%);
  // The rectangle in which to repeat. It can be fully wide in this case
  background-size: 100% 100%;
}

.remove-outline() {
  outline: 0 none;
}

.empty-background() {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQI12NgYGBgAAAABQABXvMqOgAAAABJRU5ErkJggg==);
}

.fixed-width(@width) {
  width: @width;
  min-width: @width;
  max-width: @width;
}

.fixed-height(@height) {
  height: @height;
  min-height: @height;
  max-height: @height;
}

// Cascade editor fields background colors
.hippo-editor-field-bg(@i: 1) when (@i < 6) {
    .hippo-editor-compound-field .hippo-editor-field {
        @var: "editor-field-bg-@{i}";
        background: @@var;

        .hippo-editor-field-bg((@i + 1));
    }
}

.calculated-line-height(@fontsize, @lineheightModifier: 0.7) {
  /*
    Calculate line-height such that it is equal to the distance from
    the top to the bottom of the capital Z letter in the 'Open Sans' font family
  */
  line-height: ceil(@fontsize * @lineheightModifier);
}
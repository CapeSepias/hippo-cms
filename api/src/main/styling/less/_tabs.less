/*
 * Copyright 2014 Hippo B.V. (http://www.onehippo.com)
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/* TabsPlugin Document switcher */
/* ================================================ */

@tab-width: @document-tab-width;
@tab-height: @document-tab-height;
@tab-padding-left: 8;
@tab-padding-right: 28;
@tab-padding-top: @tab-height / 2 - 8;

.hippo-tabs-documents {
  width: auto;
  position: absolute;
  text-align: left;
  right: 0;

  ul {
    display: flex;

    li {
      height: unit(@footer-height, px);
      display: block;
      float: left;
      position: relative;
      width: unit(@tab-width, px);
      border-left: 1px solid @document-tab-border-color;
    }

    li:hover {
      background-color: @document-tab-hover-bgcolor;
      
      .hippo-tabs-documents-close {
        background-image: url('@{images}/icons/tabs/tab-close-black.svg');
      }
      .hippo-tabs-documents-close:hover {
        background-image: url('@{images}/icons/tabs/tab-close-blue.svg');
      }
    }
    
    li:last-child {
      border-right: 0;
    }

    .selected:hover,
    .selected {
      border-left-color: @document-tab-selected-bgcolor;
      background-color: @document-tab-selected-bgcolor;
    }

    .selected + li {
      border-left-color: @footer-bgcolor;
    }
  }

  .hippo-tabs-documents-tab {
    display: block;
    width: unit(@tab-width - @tab-padding-left, px);
    height: unit(@tab-height - @tab-padding-top, px);
    padding-left: unit(@tab-padding-left, px);
    //padding-top: unit(@tab-padding-top, px);
    float: left;
    color: @document-tab-title-color;
    text-decoration: none;
    white-space: nowrap;
    user-select: none;

    span {
      width: unit(@tab-width - @tab-padding-left - @tab-padding-right - 20, px);
      height: 20px;
      padding-top: 15px;
      display: inline-block;
      .truncate();
    }
    
    img {
      margin-right: 3px;
      vertical-align: 5px;
    }
  }

  .hippo-tabs-documents-close {
    position: absolute;
    right: 8px;
    top: 13px;
    text-decoration: none;
    //TODO: replace with inline svg and hover/selected color change through css
    background-image: url('@{images}/icons/tabs/tab-close-grey.svg');
    width: 15px;
    height: 15px;
  }
}

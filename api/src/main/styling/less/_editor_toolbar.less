/*
 * Copyright 2014 Hippo B.V. (http://www.onehippo.com)
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

.hippo-editor-top {
  background-color: @editor-toolbar-bgcolor;
  
  > .hippo-toolbar > div > .hippo-toolbar-section {

    display: block;
    float: left;
    height: unit(@editor-toolbar-height, px);
    
    > li {
      float: left;
      height: unit(@editor-toolbar-height, px);
      
      &:first-child a {
        padding-left: 32px;
      }

      > span > a {
        color: @editor-toolbar-color;
        text-decoration: none;
        padding-left: 12px;
        padding-right: 8px;
        font-size: unit(@editor-toolbar-fontsize, px);
      }

      &.menu-item:hover {
        a {
          &.menu-action .menu-action-text,
          &.hippo-toolbar-section-button {
            color: @editor-toolbar-hover-color;
            svg {
              fill: @editor-toolbar-hover-color;
            }
            
            &.menu-item-active {
              color: @editor-toolbar-active-color;
              svg {
                fill: @editor-toolbar-active-color;
              }
            }
          }
        }
      }

      .menu-item-active {
        color: @editor-toolbar-active-color;
      }

      .menu-item-active svg {
        fill: @editor-toolbar-active-color;
      }

      .menu-item-inactive svg {
        fill: @editor-toolbar-color;
      }

      // Buttons like 'Edit' & 'Save'
      .menu-action {
        display: block;
        height: unit(@editor-toolbar-height, px);
        
        > span {
          float: left;
          display: inline-flex;
        }

        .menu-action-icon {
          position: relative;
          top: 11px;
          padding-right: 6px;
        }

        .menu-action-text {
          position: relative;
          top: 11px;
        }
      }

      // Dropdown buttons like 'Publication'
      .hippo-toolbar-section-button {
        display: block;
        height: unit(@editor-toolbar-height, px);
        
        // The dropdown icon has a 3 px space right from the arrow-down, so remove those from the padding-right
        padding-right: 5px;

        > span {
          float: left;
          position: relative;
          top: 11px;

          >.menu-action-text {
            vertical-align: top;
          }
          
          // Language dropdown button
          >.menu-action-icon {
            display: inline-flex;
            position: relative;
            top: 2px;
            padding-right: 4px;
          }
        }

        > svg {
          float: left;
          position: relative;
          top: 14px;
          left: 1px;
        }
      }

      // Dropdown is shown
      .menu-item-active {
        display: block; // Needed for background color to fill the complete button
        background-color: @editor-toolbar-active-bgcolor;
        color: @editor-toolbar-active-color;
      }

      // Dropdown wrapper element
      .menu-item-active + div {
        position: relative;

        .hippo-toolbar-menu-item {
          position: absolute;

          > li {
            padding: 0;
            
            &:hover a {
              color: @hippo-menu-enabled-hover-color;
            }
          }
          
          .hippo-toolbar-menu-item-button-label {
            position: relative;
            top: -2px;
          }
        }
      }
    }

    .menu-label-item {
      margin-left: 12px;
      color: @editor-toolbar-color;
      white-space: nowrap;
      font-size: unit(@editor-toolbar-fontsize, px);
      // Firefox will render the label 1px lower than Chrome/Safari if line-height is not set to (font-size - 1)
      line-height: unit(@editor-toolbar-fontsize - 1, px);
      
      .menu-action-text {
        position: relative;
        top: 13px;
      }
    }
  }
}
/* Split the dropdown in columns if there are many languages */
.hippo-toolbar .hippo-toolbar-section {
  div.hippo-toolbar-two-col ul.hippo-toolbar-menu-item,
  div.hippo-toolbar-three-col ul.hippo-toolbar-menu-item {
    overflow:hidden;
    
    > li {
      float:left;
      clear: none;
      //CMS7R-TODO: jslint falls over this, might not be needed but needs check with many flags
      //display:inline;
      margin-right: 0;
    }
  }

  div.hippo-toolbar-two-col ul.hippo-toolbar-menu-item {
    width: 320px;
    
    li {
      width: 50%;
    }
  }

  div.hippo-toolbar-three-col ul.hippo-toolbar-menu-item {
    width: 480px;
    
    li {
      width: 33.333%;
    }
  }
}

// Legacy - not sure where/if still used

/*
.hippo-toolbar .hippo-toolbar-section select {
  float: right;
  background: #32629b;
  color: white;
  margin: 0;
  border: 1px solid white;
}

.hippo-toolbar .hippo-toolbar-section select option {
  background: white;
  color: #666666;
}

.hippo-toolbar .hippo-toolbar-section .hippo-toolbar-textitem-locked {
  height: 16px;
  width: 16px;
  margin-right: 0;
}

.hippo-toolbar .hippo-toolbar-section .hippo-toolbar-textitem-caption {
  margin-right: 2px;
}

.hippo-toolbar .hippo-toolbar-section .hippo-toolbar-textitem-caption span,
.hippo-toolbar .hippo-toolbar-section .hippo-toolbar-textitem-status span {
  padding-left: 5px;
  color: black
}

body .hippo-toolbar .hippo-toolbar-section li a.hippo-toolbar-section-button-single {
  background: transparent;
}

body .hippo-toolbar .hippo-toolbar-section li a.hippo-toolbar-section-button-single:hover {
  border: 1px solid #000000;
}

.hippo-toolbar-menu-item li span.header-item {
  display: block;
  padding: 2px;
}

.hippo-toolbar-menu-item li span.header-item {
  padding-left: 30px;
}

.hippo-toolbar-section li.icon-16 {
  padding-left: 0;
  background-position: 3px 4px;
}

.hippo-toolbar-section span.icon-16 {
  display: block;
  height: 16px;
  width: 16px
}

.hippo-toolbar-section li.icon-16 div {
  position: relative
}
*/
